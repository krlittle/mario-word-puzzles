<!DOCTYPE HTML>
<html>
<head>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="preconnect" href="https://fonts.googleapis.com"> 
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin> 
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Press+Start+2P&display=swap">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Yomogi">
    <style>
body {
    /* font-family: Yomogi, serif; */
    font-family: 'Press Start 2P', cursive;
    text-align: center;
    font-size: 20px;
    margin-top: 0px;
}

.center {
    display: block;
    margin-left: auto;
    margin-right: auto;
    width: 10%;
}

div.guessbox {
    display: inline-block;
    position: relative;
    width: 50px;
    height: 50px;
    padding: 5px;
    margin: 3px;
    line-height: 50px;
    z-index: 10;
}

.word-break {
    flex-basis: 100%;
    height: 20px;
}

.guessbox {
    background: linear-gradient(135deg, #f5bc42 0%, #e6a222 50%, #c98b1a 100%);
    border: 4px solid #8b5a2b;
    border-radius: 4px;
    box-shadow:
        inset 2px 2px 0 #ffe082,
        inset -2px -2px 0 #a56a1b,
        3px 3px 0 #5d3a1a;
    color: #5d3a1a;
    font-weight: bold;
    text-shadow: 1px 1px 0 #ffe082;
}

.split-left {
  height: 100%;
  width: 75%;
  position: fixed;
  z-index: 1;
  top: 0;
  overflow: hidden;
  left: 0;
  background-color: #5c94fc;
  color: red;
  display: flex;
  flex-wrap: wrap;
  align-items: center;
  justify-content: center;
  align-content: center;
  transition: width 0.4s ease-in-out;
}

/* Ground/brick floor - authentic SMB 1-1 brick pattern */
.split-left::before {
  content: '';
  position: absolute;
  bottom: 0;
  left: 0;
  width: 100%;
  height: 64px;
  background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='32' height='32' viewBox='0 0 32 32'%3E%3Crect width='32' height='32' fill='%23c84c0c'/%3E%3C!-- Top brick - highlight on top and left edges --%3E%3Crect x='0' y='0' width='30' height='2' fill='%23e09050'/%3E%3Crect x='0' y='2' width='2' height='12' fill='%23e09050'/%3E%3C!-- Top brick - shadow on right edge --%3E%3Crect x='30' y='0' width='2' height='14' fill='%23000'/%3E%3C!-- Top brick - shadow on bottom edge --%3E%3Crect x='0' y='14' width='32' height='2' fill='%23000'/%3E%3C!-- Bottom brick left half - highlight --%3E%3Crect x='0' y='16' width='14' height='2' fill='%23e09050'/%3E%3Crect x='0' y='18' width='2' height='12' fill='%23e09050'/%3E%3C!-- Bottom brick left half - shadow --%3E%3Crect x='14' y='16' width='2' height='16' fill='%23000'/%3E%3Crect x='0' y='30' width='16' height='2' fill='%23000'/%3E%3C!-- Bottom brick right half - highlight --%3E%3Crect x='16' y='16' width='14' height='2' fill='%23e09050'/%3E%3Crect x='16' y='18' width='2' height='12' fill='%23e09050'/%3E%3C!-- Bottom brick right half - shadow --%3E%3Crect x='30' y='16' width='2' height='14' fill='%23000'/%3E%3Crect x='16' y='30' width='16' height='2' fill='%23000'/%3E%3C/svg%3E");
  background-repeat: repeat;
  background-size: 64px 64px;
  image-rendering: pixelated;
  image-rendering: crisp-edges;
  z-index: 0;
}

/* Bush - same shape as cloud but light green */
.bush {
  position: absolute;
  z-index: 2;
  pointer-events: none;
  width: 4px;
  height: 4px;
  background: transparent;
}

/* Single-bump bush (small) */
.bush-small {
  box-shadow:
    /* Black outline - top */
    12px 0 0 #000, 16px 0 0 #000, 20px 0 0 #000,
    8px 4px 0 #000, 24px 4px 0 #000,
    4px 8px 0 #000, 28px 8px 0 #000,
    4px 12px 0 #000, 28px 12px 0 #000,
    0px 16px 0 #000, 32px 16px 0 #000,
    0px 20px 0 #000, 32px 20px 0 #000,
    /* Black outline - bottom */
    4px 24px 0 #000, 8px 24px 0 #000, 12px 24px 0 #000, 16px 24px 0 #000, 20px 24px 0 #000, 24px 24px 0 #000, 28px 24px 0 #000,
    /* Green fill */
    12px 4px 0 #80d010, 16px 4px 0 #80d010, 20px 4px 0 #80d010,
    8px 8px 0 #80d010, 12px 8px 0 #80d010, 16px 8px 0 #80d010, 20px 8px 0 #80d010, 24px 8px 0 #80d010,
    8px 12px 0 #80d010, 12px 12px 0 #80d010, 16px 12px 0 #80d010, 20px 12px 0 #80d010, 24px 12px 0 #80d010,
    4px 16px 0 #80d010, 8px 16px 0 #80d010, 12px 16px 0 #80d010, 16px 16px 0 #80d010, 20px 16px 0 #80d010, 24px 16px 0 #80d010, 28px 16px 0 #80d010,
    4px 20px 0 #80d010, 8px 20px 0 #80d010, 28px 20px 0 #80d010,
    /* Eyes */
    12px 12px 0 #000, 20px 12px 0 #000,
    /* Dark green shading */
    12px 20px 0 #00a800, 16px 20px 0 #00a800, 20px 20px 0 #00a800, 24px 20px 0 #00a800;
}

/* Triple-bump bush (large) */
.bush-large {
  box-shadow:
    /* Black outline - top bumps */
    12px 0 0 #000, 16px 0 0 #000, 20px 0 0 #000,
    36px 0 0 #000, 40px 0 0 #000, 44px 0 0 #000,
    60px 0 0 #000, 64px 0 0 #000, 68px 0 0 #000,
    8px 4px 0 #000, 24px 4px 0 #000,
    32px 4px 0 #000, 48px 4px 0 #000,
    56px 4px 0 #000, 72px 4px 0 #000,
    4px 8px 0 #000, 76px 8px 0 #000,
    4px 12px 0 #000, 76px 12px 0 #000,
    0px 16px 0 #000, 80px 16px 0 #000,
    0px 20px 0 #000, 80px 20px 0 #000,
    /* Black outline - bottom */
    4px 24px 0 #000, 8px 24px 0 #000, 12px 24px 0 #000, 16px 24px 0 #000, 20px 24px 0 #000, 24px 24px 0 #000, 28px 24px 0 #000,
    32px 24px 0 #000, 36px 24px 0 #000, 40px 24px 0 #000, 44px 24px 0 #000, 48px 24px 0 #000, 52px 24px 0 #000, 56px 24px 0 #000,
    60px 24px 0 #000, 64px 24px 0 #000, 68px 24px 0 #000, 72px 24px 0 #000, 76px 24px 0 #000,
    /* Green fill - top row */
    12px 4px 0 #80d010, 16px 4px 0 #80d010, 20px 4px 0 #80d010,
    36px 4px 0 #80d010, 40px 4px 0 #80d010, 44px 4px 0 #80d010,
    60px 4px 0 #80d010, 64px 4px 0 #80d010, 68px 4px 0 #80d010,
    /* Green fill - body */
    8px 8px 0 #80d010, 12px 8px 0 #80d010, 16px 8px 0 #80d010, 20px 8px 0 #80d010, 24px 8px 0 #80d010, 28px 8px 0 #80d010,
    32px 8px 0 #80d010, 36px 8px 0 #80d010, 40px 8px 0 #80d010, 44px 8px 0 #80d010, 48px 8px 0 #80d010, 52px 8px 0 #80d010,
    56px 8px 0 #80d010, 60px 8px 0 #80d010, 64px 8px 0 #80d010, 68px 8px 0 #80d010, 72px 8px 0 #80d010,
    8px 12px 0 #80d010, 12px 12px 0 #80d010, 16px 12px 0 #80d010, 20px 12px 0 #80d010, 24px 12px 0 #80d010, 28px 12px 0 #80d010,
    32px 12px 0 #80d010, 36px 12px 0 #80d010, 40px 12px 0 #80d010, 44px 12px 0 #80d010, 48px 12px 0 #80d010, 52px 12px 0 #80d010,
    56px 12px 0 #80d010, 60px 12px 0 #80d010, 64px 12px 0 #80d010, 68px 12px 0 #80d010, 72px 12px 0 #80d010,
    4px 16px 0 #80d010, 8px 16px 0 #80d010, 12px 16px 0 #80d010, 16px 16px 0 #80d010, 20px 16px 0 #80d010, 24px 16px 0 #80d010, 28px 16px 0 #80d010,
    32px 16px 0 #80d010, 36px 16px 0 #80d010, 40px 16px 0 #80d010, 44px 16px 0 #80d010, 48px 16px 0 #80d010, 52px 16px 0 #80d010,
    56px 16px 0 #80d010, 60px 16px 0 #80d010, 64px 16px 0 #80d010, 68px 16px 0 #80d010, 72px 16px 0 #80d010, 76px 16px 0 #80d010,
    4px 20px 0 #80d010, 8px 20px 0 #80d010, 72px 20px 0 #80d010, 76px 20px 0 #80d010,
    /* Eyes */
    16px 12px 0 #000, 40px 12px 0 #000, 64px 12px 0 #000,
    /* Dark green shading */
    12px 20px 0 #00a800, 16px 20px 0 #00a800, 20px 20px 0 #00a800, 24px 20px 0 #00a800, 28px 20px 0 #00a800,
    32px 20px 0 #00a800, 36px 20px 0 #00a800, 40px 20px 0 #00a800, 44px 20px 0 #00a800, 48px 20px 0 #00a800,
    52px 20px 0 #00a800, 56px 20px 0 #00a800, 60px 20px 0 #00a800, 64px 20px 0 #00a800, 68px 20px 0 #00a800;
}

/* Pixelated hill - dark green mound using box-shadow */
.hill {
  position: absolute;
  z-index: 1;
  pointer-events: none;
  width: 4px;
  height: 4px;
  background: transparent;
  transform: scale(1.5);
  transform-origin: bottom left;
}

/* Small hill */
.hill-small {
  box-shadow:
    /* Black outline - top curve */
    20px 0 0 #000, 24px 0 0 #000, 28px 0 0 #000, 32px 0 0 #000,
    16px 4px 0 #000, 36px 4px 0 #000,
    12px 8px 0 #000, 40px 8px 0 #000,
    8px 12px 0 #000, 44px 12px 0 #000,
    4px 16px 0 #000, 48px 16px 0 #000,
    0px 20px 0 #000, 52px 20px 0 #000,
    0px 24px 0 #000, 52px 24px 0 #000,
    0px 28px 0 #000, 52px 28px 0 #000,
    /* Green fill */
    20px 4px 0 #00a800, 24px 4px 0 #00a800, 28px 4px 0 #00a800, 32px 4px 0 #00a800,
    16px 8px 0 #00a800, 20px 8px 0 #00a800, 24px 8px 0 #00a800, 28px 8px 0 #00a800, 32px 8px 0 #00a800, 36px 8px 0 #00a800,
    12px 12px 0 #00a800, 16px 12px 0 #00a800, 20px 12px 0 #00a800, 24px 12px 0 #00a800, 28px 12px 0 #00a800, 32px 12px 0 #00a800, 36px 12px 0 #00a800, 40px 12px 0 #00a800,
    8px 16px 0 #00a800, 12px 16px 0 #00a800, 16px 16px 0 #00a800, 20px 16px 0 #00a800, 24px 16px 0 #00a800, 28px 16px 0 #00a800, 32px 16px 0 #00a800, 36px 16px 0 #00a800, 40px 16px 0 #00a800, 44px 16px 0 #00a800,
    4px 20px 0 #00a800, 8px 20px 0 #00a800, 12px 20px 0 #00a800, 16px 20px 0 #00a800, 20px 20px 0 #00a800, 24px 20px 0 #00a800, 28px 20px 0 #00a800, 32px 20px 0 #00a800, 36px 20px 0 #00a800, 40px 20px 0 #00a800, 44px 20px 0 #00a800, 48px 20px 0 #00a800,
    4px 24px 0 #00a800, 8px 24px 0 #00a800, 12px 24px 0 #00a800, 16px 24px 0 #00a800, 20px 24px 0 #00a800, 24px 24px 0 #00a800, 28px 24px 0 #00a800, 32px 24px 0 #00a800, 36px 24px 0 #00a800, 40px 24px 0 #00a800, 44px 24px 0 #00a800, 48px 24px 0 #00a800,
    4px 28px 0 #00a800, 8px 28px 0 #00a800, 12px 28px 0 #00a800, 16px 28px 0 #00a800, 20px 28px 0 #00a800, 24px 28px 0 #00a800, 28px 28px 0 #00a800, 32px 28px 0 #00a800, 36px 28px 0 #00a800, 40px 28px 0 #00a800, 44px 28px 0 #00a800, 48px 28px 0 #00a800,
    /* Eyes - left eye */
    16px 12px 0 #000, 20px 12px 0 #000,
    16px 16px 0 #000, 20px 16px 0 #000,
    /* Eyes - right eye */
    32px 12px 0 #000, 36px 12px 0 #000,
    32px 16px 0 #000, 36px 16px 0 #000;
}

/* Large hill */
.hill-large {
  box-shadow:
    /* Black outline - top curve */
    40px 0 0 #000, 44px 0 0 #000, 48px 0 0 #000, 52px 0 0 #000, 56px 0 0 #000, 60px 0 0 #000,
    32px 4px 0 #000, 68px 4px 0 #000,
    24px 8px 0 #000, 76px 8px 0 #000,
    16px 12px 0 #000, 84px 12px 0 #000,
    12px 16px 0 #000, 88px 16px 0 #000,
    8px 20px 0 #000, 92px 20px 0 #000,
    4px 24px 0 #000, 96px 24px 0 #000,
    0px 28px 0 #000, 100px 28px 0 #000,
    0px 32px 0 #000, 100px 32px 0 #000,
    0px 36px 0 #000, 100px 36px 0 #000,
    0px 40px 0 #000, 100px 40px 0 #000,
    /* Green fill */
    40px 4px 0 #00a800, 44px 4px 0 #00a800, 48px 4px 0 #00a800, 52px 4px 0 #00a800, 56px 4px 0 #00a800, 60px 4px 0 #00a800,
    32px 8px 0 #00a800, 36px 8px 0 #00a800, 40px 8px 0 #00a800, 44px 8px 0 #00a800, 48px 8px 0 #00a800, 52px 8px 0 #00a800, 56px 8px 0 #00a800, 60px 8px 0 #00a800, 64px 8px 0 #00a800, 68px 8px 0 #00a800,
    24px 12px 0 #00a800, 28px 12px 0 #00a800, 32px 12px 0 #00a800, 36px 12px 0 #00a800, 40px 12px 0 #00a800, 44px 12px 0 #00a800, 48px 12px 0 #00a800, 52px 12px 0 #00a800, 56px 12px 0 #00a800, 60px 12px 0 #00a800, 64px 12px 0 #00a800, 68px 12px 0 #00a800, 72px 12px 0 #00a800, 76px 12px 0 #00a800,
    16px 16px 0 #00a800, 20px 16px 0 #00a800, 24px 16px 0 #00a800, 28px 16px 0 #00a800, 32px 16px 0 #00a800, 36px 16px 0 #00a800, 40px 16px 0 #00a800, 44px 16px 0 #00a800, 48px 16px 0 #00a800, 52px 16px 0 #00a800, 56px 16px 0 #00a800, 60px 16px 0 #00a800, 64px 16px 0 #00a800, 68px 16px 0 #00a800, 72px 16px 0 #00a800, 76px 16px 0 #00a800, 80px 16px 0 #00a800, 84px 16px 0 #00a800,
    12px 20px 0 #00a800, 16px 20px 0 #00a800, 20px 20px 0 #00a800, 24px 20px 0 #00a800, 28px 20px 0 #00a800, 32px 20px 0 #00a800, 36px 20px 0 #00a800, 40px 20px 0 #00a800, 44px 20px 0 #00a800, 48px 20px 0 #00a800, 52px 20px 0 #00a800, 56px 20px 0 #00a800, 60px 20px 0 #00a800, 64px 20px 0 #00a800, 68px 20px 0 #00a800, 72px 20px 0 #00a800, 76px 20px 0 #00a800, 80px 20px 0 #00a800, 84px 20px 0 #00a800, 88px 20px 0 #00a800,
    8px 24px 0 #00a800, 12px 24px 0 #00a800, 16px 24px 0 #00a800, 20px 24px 0 #00a800, 24px 24px 0 #00a800, 28px 24px 0 #00a800, 32px 24px 0 #00a800, 36px 24px 0 #00a800, 40px 24px 0 #00a800, 44px 24px 0 #00a800, 48px 24px 0 #00a800, 52px 24px 0 #00a800, 56px 24px 0 #00a800, 60px 24px 0 #00a800, 64px 24px 0 #00a800, 68px 24px 0 #00a800, 72px 24px 0 #00a800, 76px 24px 0 #00a800, 80px 24px 0 #00a800, 84px 24px 0 #00a800, 88px 24px 0 #00a800, 92px 24px 0 #00a800,
    4px 28px 0 #00a800, 8px 28px 0 #00a800, 12px 28px 0 #00a800, 16px 28px 0 #00a800, 20px 28px 0 #00a800, 24px 28px 0 #00a800, 28px 28px 0 #00a800, 32px 28px 0 #00a800, 36px 28px 0 #00a800, 40px 28px 0 #00a800, 44px 28px 0 #00a800, 48px 28px 0 #00a800, 52px 28px 0 #00a800, 56px 28px 0 #00a800, 60px 28px 0 #00a800, 64px 28px 0 #00a800, 68px 28px 0 #00a800, 72px 28px 0 #00a800, 76px 28px 0 #00a800, 80px 28px 0 #00a800, 84px 28px 0 #00a800, 88px 28px 0 #00a800, 92px 28px 0 #00a800, 96px 28px 0 #00a800,
    4px 32px 0 #00a800, 8px 32px 0 #00a800, 12px 32px 0 #00a800, 16px 32px 0 #00a800, 20px 32px 0 #00a800, 24px 32px 0 #00a800, 28px 32px 0 #00a800, 32px 32px 0 #00a800, 36px 32px 0 #00a800, 40px 32px 0 #00a800, 44px 32px 0 #00a800, 48px 32px 0 #00a800, 52px 32px 0 #00a800, 56px 32px 0 #00a800, 60px 32px 0 #00a800, 64px 32px 0 #00a800, 68px 32px 0 #00a800, 72px 32px 0 #00a800, 76px 32px 0 #00a800, 80px 32px 0 #00a800, 84px 32px 0 #00a800, 88px 32px 0 #00a800, 92px 32px 0 #00a800, 96px 32px 0 #00a800,
    4px 36px 0 #00a800, 8px 36px 0 #00a800, 12px 36px 0 #00a800, 16px 36px 0 #00a800, 20px 36px 0 #00a800, 24px 36px 0 #00a800, 28px 36px 0 #00a800, 32px 36px 0 #00a800, 36px 36px 0 #00a800, 40px 36px 0 #00a800, 44px 36px 0 #00a800, 48px 36px 0 #00a800, 52px 36px 0 #00a800, 56px 36px 0 #00a800, 60px 36px 0 #00a800, 64px 36px 0 #00a800, 68px 36px 0 #00a800, 72px 36px 0 #00a800, 76px 36px 0 #00a800, 80px 36px 0 #00a800, 84px 36px 0 #00a800, 88px 36px 0 #00a800, 92px 36px 0 #00a800, 96px 36px 0 #00a800,
    4px 40px 0 #00a800, 8px 40px 0 #00a800, 12px 40px 0 #00a800, 16px 40px 0 #00a800, 20px 40px 0 #00a800, 24px 40px 0 #00a800, 28px 40px 0 #00a800, 32px 40px 0 #00a800, 36px 40px 0 #00a800, 40px 40px 0 #00a800, 44px 40px 0 #00a800, 48px 40px 0 #00a800, 52px 40px 0 #00a800, 56px 40px 0 #00a800, 60px 40px 0 #00a800, 64px 40px 0 #00a800, 68px 40px 0 #00a800, 72px 40px 0 #00a800, 76px 40px 0 #00a800, 80px 40px 0 #00a800, 84px 40px 0 #00a800, 88px 40px 0 #00a800, 92px 40px 0 #00a800, 96px 40px 0 #00a800,
    /* Eyes - left eye */
    36px 16px 0 #000, 40px 16px 0 #000,
    36px 20px 0 #000, 40px 20px 0 #000,
    /* Eyes - right eye */
    60px 16px 0 #000, 64px 16px 0 #000,
    60px 20px 0 #000, 64px 20px 0 #000;
}

/* 8-bit style cloud using box-shadow pixel art */
.cloud {
  position: absolute;
  z-index: 0;
  pointer-events: none;
  width: 4px;
  height: 4px;
  background: transparent;
}

/* Single-bump cloud (small) - 10x7 pixels */
.cloud-small {
  box-shadow:
    /* Black outline - top */
    12px 0 0 #000, 16px 0 0 #000, 20px 0 0 #000,
    8px 4px 0 #000, 24px 4px 0 #000,
    4px 8px 0 #000, 28px 8px 0 #000,
    4px 12px 0 #000, 28px 12px 0 #000,
    0px 16px 0 #000, 32px 16px 0 #000,
    0px 20px 0 #000, 32px 20px 0 #000,
    /* Black outline - bottom */
    4px 24px 0 #000, 8px 24px 0 #000, 12px 24px 0 #000, 16px 24px 0 #000, 20px 24px 0 #000, 24px 24px 0 #000, 28px 24px 0 #000,
    /* White fill */
    12px 4px 0 #fff, 16px 4px 0 #fff, 20px 4px 0 #fff,
    8px 8px 0 #fff, 12px 8px 0 #fff, 16px 8px 0 #fff, 20px 8px 0 #fff, 24px 8px 0 #fff,
    8px 12px 0 #fff, 12px 12px 0 #fff, 16px 12px 0 #fff, 20px 12px 0 #fff, 24px 12px 0 #fff,
    4px 16px 0 #fff, 8px 16px 0 #fff, 12px 16px 0 #fff, 16px 16px 0 #fff, 20px 16px 0 #fff, 24px 16px 0 #fff, 28px 16px 0 #fff,
    4px 20px 0 #fff, 8px 20px 0 #fff, 28px 20px 0 #fff,
    /* Eyes */
    12px 12px 0 #000, 20px 12px 0 #000,
    /* Blue shading */
    12px 20px 0 #5c94fc, 16px 20px 0 #5c94fc, 20px 20px 0 #5c94fc, 24px 20px 0 #5c94fc;
}

/* Triple-bump cloud (large) - 24x7 pixels */
.cloud-large {
  box-shadow:
    /* Black outline - top bumps */
    12px 0 0 #000, 16px 0 0 #000, 20px 0 0 #000,
    36px 0 0 #000, 40px 0 0 #000, 44px 0 0 #000,
    60px 0 0 #000, 64px 0 0 #000, 68px 0 0 #000,
    8px 4px 0 #000, 24px 4px 0 #000,
    32px 4px 0 #000, 48px 4px 0 #000,
    56px 4px 0 #000, 72px 4px 0 #000,
    4px 8px 0 #000, 76px 8px 0 #000,
    4px 12px 0 #000, 76px 12px 0 #000,
    0px 16px 0 #000, 80px 16px 0 #000,
    0px 20px 0 #000, 80px 20px 0 #000,
    /* Black outline - bottom */
    4px 24px 0 #000, 8px 24px 0 #000, 12px 24px 0 #000, 16px 24px 0 #000, 20px 24px 0 #000, 24px 24px 0 #000, 28px 24px 0 #000,
    32px 24px 0 #000, 36px 24px 0 #000, 40px 24px 0 #000, 44px 24px 0 #000, 48px 24px 0 #000, 52px 24px 0 #000, 56px 24px 0 #000,
    60px 24px 0 #000, 64px 24px 0 #000, 68px 24px 0 #000, 72px 24px 0 #000, 76px 24px 0 #000,
    /* White fill - top row */
    12px 4px 0 #fff, 16px 4px 0 #fff, 20px 4px 0 #fff,
    36px 4px 0 #fff, 40px 4px 0 #fff, 44px 4px 0 #fff,
    60px 4px 0 #fff, 64px 4px 0 #fff, 68px 4px 0 #fff,
    /* White fill - body */
    8px 8px 0 #fff, 12px 8px 0 #fff, 16px 8px 0 #fff, 20px 8px 0 #fff, 24px 8px 0 #fff, 28px 8px 0 #fff,
    32px 8px 0 #fff, 36px 8px 0 #fff, 40px 8px 0 #fff, 44px 8px 0 #fff, 48px 8px 0 #fff, 52px 8px 0 #fff,
    56px 8px 0 #fff, 60px 8px 0 #fff, 64px 8px 0 #fff, 68px 8px 0 #fff, 72px 8px 0 #fff,
    8px 12px 0 #fff, 12px 12px 0 #fff, 16px 12px 0 #fff, 20px 12px 0 #fff, 24px 12px 0 #fff, 28px 12px 0 #fff,
    32px 12px 0 #fff, 36px 12px 0 #fff, 40px 12px 0 #fff, 44px 12px 0 #fff, 48px 12px 0 #fff, 52px 12px 0 #fff,
    56px 12px 0 #fff, 60px 12px 0 #fff, 64px 12px 0 #fff, 68px 12px 0 #fff, 72px 12px 0 #fff,
    4px 16px 0 #fff, 8px 16px 0 #fff, 12px 16px 0 #fff, 16px 16px 0 #fff, 20px 16px 0 #fff, 24px 16px 0 #fff, 28px 16px 0 #fff,
    32px 16px 0 #fff, 36px 16px 0 #fff, 40px 16px 0 #fff, 44px 16px 0 #fff, 48px 16px 0 #fff, 52px 16px 0 #fff,
    56px 16px 0 #fff, 60px 16px 0 #fff, 64px 16px 0 #fff, 68px 16px 0 #fff, 72px 16px 0 #fff, 76px 16px 0 #fff,
    4px 20px 0 #fff, 8px 20px 0 #fff, 72px 20px 0 #fff, 76px 20px 0 #fff,
    /* Eyes */
    16px 12px 0 #000, 40px 12px 0 #000, 64px 12px 0 #000,
    /* Blue shading */
    12px 20px 0 #5c94fc, 16px 20px 0 #5c94fc, 20px 20px 0 #5c94fc, 24px 20px 0 #5c94fc, 28px 20px 0 #5c94fc,
    32px 20px 0 #5c94fc, 36px 20px 0 #5c94fc, 40px 20px 0 #5c94fc, 44px 20px 0 #5c94fc, 48px 20px 0 #5c94fc,
    52px 20px 0 #5c94fc, 56px 20px 0 #5c94fc, 60px 20px 0 #5c94fc, 64px 20px 0 #5c94fc, 68px 20px 0 #5c94fc;
}

.split-right {
  height: 100%;
  width: 25%;
  position: fixed;
  z-index: 1;
  top: 0;
  overflow-x: hidden;
  padding-top: 20px;
  right: 0;
  background: linear-gradient(135deg, #ff4444 0%, #cc0000 50%, #990000 100%);
  color: white;
  border-left: 6px solid #660000;
  box-shadow:
      inset 4px 0 0 #ff6666,
      -4px 0 10px rgba(0, 0, 0, 0.3);
  transition: transform 0.4s ease-in-out;
}

.split-right.hidden {
  transform: translateX(100%);
}

/* If you want the content centered horizontally and vertically */
.centered {
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  text-align: center;
  display: flex;
  gap: 10px;
}

.legend-column {
  display: flex;
  flex-direction: column;
}

#legend {
    font-size: 14px;
}

.legend-item {
    display: block;
    background: linear-gradient(135deg, #ff6666 0%, #ee3333 50%, #cc0000 100%);
    border: 3px solid #660000;
    border-radius: 4px;
    padding: 3px 8px;
    margin: 2px;
    box-shadow:
        inset 1px 1px 0 #ff8888,
        inset -1px -1px 0 #aa0000,
        2px 2px 0 #440000;
    text-shadow: 1px 1px 0 #660000;
}

/* Shake animation for wrong guesses */
@keyframes shake {
    0%, 100% { transform: translateX(0); }
    20% { transform: translateX(-5px); }
    40% { transform: translateX(5px); }
    60% { transform: translateX(-5px); }
    80% { transform: translateX(5px); }
}

.shake {
    animation: shake 0.2s ease-in-out;
}

/* Vertical bounce animation for correct guesses */
@keyframes popUp {
    0%, 100% { transform: translateY(0); }
    25% { transform: translateY(-10px); }
    50% { transform: translateY(0); }
    75% { transform: translateY(-5px); }
}

.pop {
    animation: popUp 0.3s ease-in-out;
}

/* Coin pop animation */
@keyframes coinPop {
    0% {
        transform: translateY(0) rotateY(0deg);
        opacity: 1;
    }
    50% {
        transform: translateY(-60px) rotateY(360deg);
        opacity: 1;
    }
    100% {
        transform: translateY(-80px) rotateY(720deg);
        opacity: 0;
    }
}

.coin {
    position: absolute;
    top: -10px;
    left: 50%;
    margin-left: -12px;
    width: 24px;
    height: 24px;
    background: radial-gradient(ellipse at 30% 30%, #fff700 0%, #ffcc00 40%, #cc9900 100%);
    border: 3px solid #996600;
    border-radius: 50%;
    box-shadow:
        inset -2px -2px 0 #cc9900,
        inset 2px 2px 0 #ffee55,
        2px 2px 4px rgba(0,0,0,0.3);
    animation: coinPop 0.5s ease-out forwards;
    pointer-events: none;
    z-index: 200;
}

.coin::after {
    content: 'â˜…';
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    font-size: 12px;
    color: #996600;
}

/* Victory animations */
@keyframes bounce {
    0%, 100% { transform: scale(1); }
    50% { transform: scale(1.2); }
}

@keyframes shine {
    0% {
        left: -100%;
    }
    50%, 100% {
        left: 200%;
    }
}

.victory .guessbox {
    overflow: hidden;
}

.victory .guessbox::before {
    content: '';
    position: absolute;
    top: 0;
    left: -100%;
    width: 50%;
    height: 100%;
    background: linear-gradient(
        90deg,
        transparent,
        rgba(255, 255, 255, 0.9),
        transparent
    );
    animation: shine 1.5s ease-in-out infinite;
    animation-delay: var(--shine-delay, 0s);
}

.victory-container {
    position: fixed;
    top: 15%;
    left: 50%;
    transform: translateX(-50%);
    z-index: 100;
    display: flex;
    align-items: center;
    gap: 60px;
}

.victory-message {
    font-size: 48px;
    background: linear-gradient(180deg, #fff700 0%, #ffcc00 50%, #ff9900 100%);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
    filter: drop-shadow(3px 3px 0 #cc0000) drop-shadow(-3px -3px 0 #cc0000) drop-shadow(3px -3px 0 #cc0000) drop-shadow(-3px 3px 0 #cc0000);
    animation: bounce 0.5s ease-in-out infinite;
}

@keyframes starTwinkle {
    0%, 100% { transform: scale(1); opacity: 1; }
    50% { transform: scale(1.2); opacity: 0.9; }
}

@keyframes starFloat {
    0%, 100% { transform: translateY(0); }
    50% { transform: translateY(-8px); }
}

/* 8-bit pixel art star - Mario Super Star style */
.pixel-star {
    width: 4px;
    height: 4px;
    background: transparent;
    image-rendering: pixelated;
    box-shadow:
        /* Top point - black outline */
        16px 0 0 #000, 20px 0 0 #000,
        12px 4px 0 #000, 24px 4px 0 #000,
        /* Top point - yellow fill */
        16px 4px 0 #ffcc00, 20px 4px 0 #ffcc00,

        /* Upper body expansion - outline */
        8px 8px 0 #000, 28px 8px 0 #000,
        /* Upper body - yellow fill */
        12px 8px 0 #ffcc00, 16px 8px 0 #ffcc00, 20px 8px 0 #ffcc00, 24px 8px 0 #ffcc00,

        /* Left arm, body, right arm row - outline */
        0px 12px 0 #000, 36px 12px 0 #000,
        /* Fill */
        4px 12px 0 #ffcc00, 8px 12px 0 #ffcc00, 12px 12px 0 #ffcc00, 16px 12px 0 #ffcc00, 20px 12px 0 #ffcc00, 24px 12px 0 #ffcc00, 28px 12px 0 #ffcc00, 32px 12px 0 #ffcc00,

        /* Wide middle row - outline */
        0px 16px 0 #000, 36px 16px 0 #000,
        /* Fill */
        4px 16px 0 #ffcc00, 8px 16px 0 #ffcc00, 12px 16px 0 #ffcc00, 16px 16px 0 #ffcc00, 20px 16px 0 #ffcc00, 24px 16px 0 #ffcc00, 28px 16px 0 #ffcc00, 32px 16px 0 #ffcc00,

        /* Narrowing row - outline */
        4px 20px 0 #000, 32px 20px 0 #000,
        /* Fill */
        8px 20px 0 #ffcc00, 12px 20px 0 #ffcc00, 16px 20px 0 #ffcc00, 20px 20px 0 #ffcc00, 24px 20px 0 #ffcc00, 28px 20px 0 #ffcc00,

        /* Center body - outline */
        8px 24px 0 #000, 28px 24px 0 #000,
        /* Fill */
        12px 24px 0 #ffcc00, 16px 24px 0 #ffcc00, 20px 24px 0 #ffcc00, 24px 24px 0 #ffcc00,

        /* Lower split for legs - outline */
        8px 28px 0 #000, 16px 28px 0 #000, 20px 28px 0 #000, 28px 28px 0 #000,
        /* Fill */
        12px 28px 0 #ffcc00, 24px 28px 0 #ffcc00,

        /* Bottom left point - outline */
        4px 32px 0 #000, 12px 32px 0 #000,
        8px 32px 0 #ffcc00,
        0px 36px 0 #000, 8px 36px 0 #000,
        4px 36px 0 #ffcc00,

        /* Bottom right point - outline */
        24px 32px 0 #000, 32px 32px 0 #000,
        28px 32px 0 #ffcc00,
        28px 36px 0 #000, 36px 36px 0 #000,
        32px 36px 0 #ffcc00,

        /* Eyes */
        12px 16px 0 #000, 24px 16px 0 #000;
}

.victory-star {
    animation: starTwinkle 1s ease-in-out infinite, starFloat 2s ease-in-out infinite;
}

.victory-star:nth-child(1) {
    animation-delay: 0s, 0s;
}

.victory-star:nth-child(3) {
    animation-delay: 0.5s, 1s;
}

.play-again {
    position: fixed;
    bottom: 15%;
    left: 50%;
    transform: translateX(-50%);
    font-family: 'Press Start 2P', cursive;
    font-size: 16px;
    padding: 15px 30px;
    background: linear-gradient(135deg, #66cc66 0%, #44aa44 50%, #228822 100%);
    color: white;
    border: 4px solid #115511;
    border-radius: 4px;
    box-shadow:
        inset 2px 2px 0 #88ee88,
        inset -2px -2px 0 #226622,
        3px 3px 0 #0a330a;
    text-shadow: 2px 2px 0 #115511;
    cursor: pointer;
    z-index: 100;
}

.play-again:hover {
    background: linear-gradient(135deg, #88ee88 0%, #66cc66 50%, #44aa44 100%);
}

.play-again:active {
    box-shadow:
        inset 2px 2px 0 #88ee88,
        inset -2px -2px 0 #226622,
        1px 1px 0 #0a330a;
}

.mode-toggle {
    position: fixed;
    top: 10px;
    left: 10px;
    font-family: 'Press Start 2P', cursive;
    font-size: 10px;
    padding: 10px 15px;
    background: linear-gradient(135deg, #f5bc42 0%, #e6a222 50%, #c98b1a 100%);
    color: #5d3a1a;
    border: 3px solid #8b5a2b;
    border-radius: 4px;
    box-shadow:
        inset 1px 1px 0 #ffe082,
        inset -1px -1px 0 #a56a1b,
        2px 2px 0 #5d3a1a;
    cursor: pointer;
    z-index: 100;
}

.mode-toggle:hover {
    background: linear-gradient(135deg, #ffe082 0%, #f5bc42 50%, #e6a222 100%);
}

.mode-toggle.challenge {
    background: linear-gradient(135deg, #ff6b6b 0%, #ee5a5a 50%, #cc4444 100%);
    border-color: #8b0000;
    color: white;
    text-shadow: 1px 1px 0 #8b0000;
    box-shadow:
        inset 1px 1px 0 #ff8a8a,
        inset -1px -1px 0 #aa3333,
        2px 2px 0 #660000;
}

.split-left.fullwidth {
    width: 100%;
}

.help-button {
    position: fixed;
    top: 10px;
    right: 10px;
    font-family: 'Press Start 2P', cursive;
    font-size: 10px;
    padding: 10px 15px;
    background: linear-gradient(135deg, #66cc66 0%, #44aa44 50%, #228822 100%);
    color: white;
    border: 3px solid #115511;
    border-radius: 4px;
    box-shadow:
        inset 1px 1px 0 #88ee88,
        inset -1px -1px 0 #226622,
        2px 2px 0 #0a330a;
    text-shadow: 1px 1px 0 #115511;
    cursor: pointer;
    z-index: 100;
}

.help-button:hover {
    background: linear-gradient(135deg, #88ee88 0%, #66cc66 50%, #44aa44 100%);
}

.help-panel {
    height: 100%;
    width: 30%;
    min-width: 300px;
    position: fixed;
    z-index: 101;
    top: 0;
    right: 0;
    overflow-x: hidden;
    overflow-y: auto;
    padding: 20px;
    box-sizing: border-box;
    background: linear-gradient(135deg, #ff4444 0%, #cc0000 50%, #990000 100%);
    color: white;
    border-left: 6px solid #660000;
    box-shadow:
        inset 4px 0 0 #ff6666,
        -4px 0 10px rgba(0, 0, 0, 0.3);
    transform: translateX(100%);
    transition: transform 0.4s ease-in-out;
}

.help-panel.visible {
    transform: translateX(0);
}

.help-panel h2 {
    font-size: 16px;
    margin-bottom: 20px;
    text-shadow: 2px 2px 0 #660000;
}

.help-panel p {
    font-size: 10px;
    line-height: 2;
    margin-bottom: 15px;
    text-shadow: 1px 1px 0 #660000;
}

.help-panel .close-help {
    position: absolute;
    top: 10px;
    right: 10px;
    font-family: 'Press Start 2P', cursive;
    font-size: 14px;
    background: none;
    border: none;
    color: white;
    cursor: pointer;
    text-shadow: 1px 1px 0 #660000;
}

.help-panel .close-help:hover {
    color: #ffcccc;
}

/* Title Screen */
.title-screen {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background-color: #5c94fc;
    z-index: 200;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    transition: opacity 0.5s ease-out;
}

.title-screen.hidden {
    opacity: 0;
    pointer-events: none;
}

.title-container {
    display: flex;
    align-items: center;
    gap: 80px;
    margin-bottom: 60px;
}

.title-star {
    transform: scale(1.5);
    animation: starTwinkle 1s ease-in-out infinite, starFloat 2s ease-in-out infinite;
}

.title-star:nth-child(1) {
    animation-delay: 0s, 0s;
}

.title-star:nth-child(3) {
    animation-delay: 0.5s, 1s;
}

.title-box {
    padding: 20px 40px;
    background: linear-gradient(135deg, #f5bc42 0%, #e6a222 50%, #c98b1a 100%);
    border: 6px solid #8b5a2b;
    border-radius: 8px;
    box-shadow:
        inset 3px 3px 0 #ffe082,
        inset -3px -3px 0 #a56a1b,
        4px 4px 0 #5d3a1a;
}

.title-text {
    font-size: 32px;
    color: #5d3a1a;
    text-shadow: 2px 2px 0 #ffe082;
    text-align: center;
    line-height: 1.5;
}

.title-play-btn {
    font-family: 'Press Start 2P', cursive;
    font-size: 20px;
    padding: 20px 40px;
    background: linear-gradient(135deg, #66cc66 0%, #44aa44 50%, #228822 100%);
    color: white;
    border: 4px solid #115511;
    border-radius: 4px;
    box-shadow:
        inset 2px 2px 0 #88ee88,
        inset -2px -2px 0 #226622,
        3px 3px 0 #0a330a;
    text-shadow: 2px 2px 0 #115511;
    cursor: pointer;
    animation: bounce 1s ease-in-out infinite;
}

.title-play-btn:hover {
    background: linear-gradient(135deg, #88ee88 0%, #66cc66 50%, #44aa44 100%);
}

.title-play-btn:active {
    box-shadow:
        inset 2px 2px 0 #88ee88,
        inset -2px -2px 0 #226622,
        1px 1px 0 #0a330a;
}

/* Hide game controls until game starts */
.game-hidden {
    display: none !important;
}
</style>
</head>
<body>

<!-- Title Screen -->
<div id="titleScreen" class="title-screen">
    <div class="title-container">
        <div class="pixel-star title-star"></div>
        <div class="title-box">
            <div class="title-text">MARIO<br>WORD PUZZLES</div>
        </div>
        <div class="pixel-star title-star"></div>
    </div>
    <button class="title-play-btn" onclick="startGame()">PLAY</button>
</div>

<button id="modeToggle" class="mode-toggle challenge game-hidden" onclick="toggleMode()">SWITCH TO SIMPLE MODE?</button>
<button id="helpButton" class="help-button game-hidden" onclick="toggleHelp()">HOW DO I PLAY?</button>
<div id="game" class="split-left fullwidth"></div>
<hr/>
<div id="legend" class="split-right hidden"></div>
<div id="helpPanel" class="help-panel">
    <button class="close-help" onclick="toggleHelp()">X</button>
    <h2>HOW TO PLAY</h2>
    <p>Each box represents a letter in a Mario-themed word or phrase.</p>
    <p>Press letter keys (A-Z) on your keyboard to guess letters.</p>
    <p>Correct guesses reveal all matching letters. Wrong guesses shake the screen.</p>
    <p>SIMPLE MODE shows numbers as hints (A=1, B=2, etc). NORMAL MODE has no hints.</p>
    <p>Reveal all letters to win!</p>
</div>

<script>

// Game state
let uniqueLetters = new Set();
let revealedLetters = new Set();
let gameWon = false;
let simpleMode = false;
let helpVisible = false;
let gameStarted = false;

function startGame() {
    gameStarted = true;
    const titleScreen = document.getElementById('titleScreen');
    titleScreen.classList.add('hidden');

    // Show game controls
    document.getElementById('modeToggle').classList.remove('game-hidden');
    document.getElementById('helpButton').classList.remove('game-hidden');

    // Remove title screen from DOM after animation
    setTimeout(function() {
        titleScreen.style.display = 'none';
    }, 500);
}

function toggleHelp() {
    helpVisible = !helpVisible;
    const helpPanel = document.getElementById('helpPanel');
    if (helpVisible) {
        helpPanel.classList.add('visible');
    } else {
        helpPanel.classList.remove('visible');
    }
}

function toggleMode() {
    if (gameWon) return;

    simpleMode = !simpleMode;
    const btn = document.getElementById('modeToggle');
    const legend = document.getElementById('legend');
    const gameDiv = document.getElementById('game');

    if (simpleMode) {
        btn.textContent = 'SWITCH TO NORMAL MODE?';
        btn.classList.remove('challenge');
        legend.classList.remove('hidden');
        gameDiv.classList.remove('fullwidth');

        // Change all unrevealed boxes to show numbers
        document.querySelectorAll('.guessbox').forEach(function(box) {
            if (!revealedLetters.has(box.getAttribute('name'))) {
                box.innerHTML = box.getAttribute('data-number');
            }
        });
    } else {
        btn.textContent = 'SWITCH TO SIMPLE MODE?';
        btn.classList.add('challenge');
        legend.classList.add('hidden');
        gameDiv.classList.add('fullwidth');

        // Change all unrevealed boxes to show "?"
        document.querySelectorAll('.guessbox').forEach(function(box) {
            if (!revealedLetters.has(box.getAttribute('name'))) {
                box.innerHTML = '?';
            }
        });
    }
}

const answers = [
    /* characters */
    "MARIO",
    "LUIGI",
    "PEACH",
    "DAISY",
    "TOAD",
    "YOSHI",
    "ROSALINA",
    "LUMA",
    "TOADETTE",
    "CAPTAIN TOAD",
    "POOCHY",
    "NABBIT",
    "BOWSER",
    "BOWSER JR",
    "WARIO",
    "WALUIGI",
    "KAMEK",
    "KING BOO",
    "PETEY PIRANHA",
    "BULLET BILL",
    "CHAIN CHOMP",
    "CHEEP CHEEP",
    "GOOMBA",
    "HAMMER BRO",
    "KOOPA TROOPA",
    "LAKITU",
    "MONTY MOLE",
    "PIRANHA PLANT",
    "SHY GUY",
    "SPINY",
    "THWOMP",
    "WIGGLER",
    /* locations */
    "AIRSHIP",
    "CAP KINGDOM",
    "CASCADE KINGDOM",
    "DELFINO PLAZA",
    "FORTRESS",
    "GUSTY GARDEN GALAXY",
    "HONEYHIVE GALAXY",
    "METRO KINGDOM",
    "MUSHROOM KINGDOM",
    "RAINBOW ROAD",
    "STAR ROAD",
    "TOAD HOUSE",
    "TOAD TOWN",
    "WARP ZONE",
    /* items */
    "SUPER MUSHROOM",
    "MEGA MUSHROOM",
    "POISON MUSHROOM",
    "MINI MUSHROOM",
    "BEE MUSHROOM",
    "BOO MUSHROOM",
    "SPRING MUSHROOM",
    "PROPELLER MUSHROOM",
    "ROCK MUSHROOM",
    "FIRE FLOWER",
    "CLOUD FLOWER",
    "GOLD FLOWER",
    "BOOMERANG FLOWER",
    "STARMAN",
    "TANOOKI SUIT",
    "FROG SUIT",
    "PENGUIN SUIT",
    "SUPER LEAF",
    "INVINCIBILITY LEAF",
    "STATUE LEAF",
    "SUPER ACORN",
    "SUPER BELL",
    "LUCKY BELL",
    "DOUBLE CHERRY",
    "COIN",
    "RED COIN",
    "BLUE COIN",
    "POWER MOON",
    "POW BLOCK",
    "GREEN SHELL",
    "RED SHELL",
    "BLUE SHELL"
];

var encodingCypher = new Map([
    ["A", "1"],
    ["B", "2"],
    ["C", "3"],
    ["D", "4"],
    ["E", "5"],
    ["F", "6"],
    ["G", "7"],
    ["H", "8"],
    ["I", "9"],
    ["J", "10"],
    ["K", "11"],
    ["L", "12"],
    ["M", "13"],
    ["N", "14"],
    ["O", "15"],
    ["P", "16"],
    ["Q", "17"],
    ["R", "18"],
    ["S", "19"],
    ["T", "20"],
    ["U", "21"],
    ["V", "22"],
    ["W", "23"],
    ["X", "24"],
    ["Y", "25"],
    ["Z", "26"]
]);

var decodingCypher = new Map([
    [65, "A"],
    [66, "B"],
    [67, "C"],
    [68, "D"],
    [69, "E"],
    [70, "F"],
    [71, "G"],
    [72, "H"],
    [73, "I"],
    [74, "J"],
    [75, "K"],
    [76, "L"],
    [77, "M"],
    [78, "N"],
    [79, "O"],
    [80, "P"],
    [81, "Q"],
    [82, "R"],
    [83, "S"],
    [84, "T"],
    [85, "U"],
    [86, "V"],
    [87, "W"],
    [88, "X"],
    [89, "Y"],
    [90, "Z"]
]);

const answer = answers[Math.floor(Math.random()*answers.length)];

// Build the set of unique letters in the answer
for (const letter of answer) {
    if (letter !== " ") {
        uniqueLetters.add(letter);
    }
}

let encodedAnswer = "";

let i = 0;

for(const letter of answer) {
    if(letter == " ") {
        encodedAnswer += "<div class=\"word-break\"></div>";
    } else {
        const number = encodingCypher.get(letter);
        encodedAnswer += "<div name=\"" + letter + "\" data-number=\"" + number + "\" class=\"guessbox\">?</div>";
        i = i++;
    }
}

let legend = "<div class=\"centered\">";
legend += "<div class=\"legend-column\">";

let count = 0;
encodingCypher.forEach(function(key, value) {
    count++;
    if (count === 14) {
        legend += "</div><div class=\"legend-column\">";
    }
    legend += "<span class=\"legend-item\">" + key + "=" + value + "</span>";
});

legend += "</div></div>";

document.getElementById("game").innerHTML = encodedAnswer;
document.getElementById("legend").innerHTML = legend;

// Create 8-bit clouds
function createCloud(size, x, y) {
    const cloud = document.createElement('div');
    cloud.className = 'cloud cloud-' + size;
    cloud.style.left = x + '%';
    cloud.style.top = y + 'px';
    document.getElementById("game").appendChild(cloud);
}

// Create hills (dark green pixelated mounds)
function createHill(size, x) {
    const hill = document.createElement('div');
    hill.className = 'hill hill-' + size;
    hill.style.left = x + '%';
    // Position so bottom of visual sits exactly on brick floor (64px)
    // Adjusted for 1.5x scale - need higher values since scale extends the shadow downward
    hill.style.bottom = (size === 'large' ? 124 : 106) + 'px';
    document.getElementById("game").appendChild(hill);
}

// Create bushes (light green, cloud-shaped)
function createBush(size, x) {
    const bush = document.createElement('div');
    bush.className = 'bush bush-' + size;
    bush.style.left = x + '%';
    // Position so bottom of visual sits exactly on brick floor (64px)
    bush.style.bottom = '88px';
    document.getElementById("game").appendChild(bush);
}

// Clouds - scattered across the sky
createCloud('small', 5, 40);
createCloud('large', 18, 80);
createCloud('small', 38, 50);
createCloud('small', 52, 100);
createCloud('large', 65, 35);
createCloud('small', 85, 70);

// Hills - large dark green mounds (z-index: 1, behind bushes)
// Each hill overlaps with exactly one bush
createHill('large', -2);
createHill('small', 22);
createHill('small', 45);    // small hill paired with large bush for variety
createHill('small', 62);
createHill('large', 80);

// Bushes - light green cloud-shaped (z-index: 2, in front of hills)
// Large pairs have less overlap, small pairs have ~50% overlap
createBush('large', 8);     // less overlap with large hill at -2%
createBush('small', 20);    // 50% overlap with small hill at 22%
createBush('large', 50);    // large bush with small hill at 45%
createBush('small', 60);    // 50% overlap with small hill at 62%
createBush('large', 90);    // less overlap with large hill at 80%

function triggerVictory() {
    gameWon = true;

    const gameDiv = document.getElementById("game");
    gameDiv.classList.add("victory");

    // Add staggered animation delay to each guessbox for wave effect
    const boxes = document.querySelectorAll('.guessbox');
    boxes.forEach(function(box, index) {
        box.style.setProperty('--shine-delay', (index * 0.1) + 's');
    });

    // Add WAHOO message with stars
    const container = document.createElement("div");
    container.className = "victory-container";

    const star1 = document.createElement("div");
    star1.className = "pixel-star victory-star";

    const wahoo = document.createElement("div");
    wahoo.className = "victory-message";
    wahoo.textContent = "WAHOO!";

    const star2 = document.createElement("div");
    star2.className = "pixel-star victory-star";

    container.appendChild(star1);
    container.appendChild(wahoo);
    container.appendChild(star2);
    document.body.appendChild(container);

    // Add Play Again button
    const playAgain = document.createElement("button");
    playAgain.className = "play-again";
    playAgain.textContent = "PLAY AGAIN";
    playAgain.onclick = function() {
        location.reload();
    };
    document.body.appendChild(playAgain);
}

function checkVictory() {
    if (revealedLetters.size === uniqueLetters.size) {
        // Check that all unique letters have been revealed
        let allRevealed = true;
        uniqueLetters.forEach(function(letter) {
            if (!revealedLetters.has(letter)) {
                allRevealed = false;
            }
        });
        if (allRevealed) {
            triggerVictory();
        }
    }
}

document.onkeydown = function(e) {
    if (!gameStarted || gameWon) return;

    // Use e.key (modern) and convert to uppercase
    const key = e.key.toUpperCase();

    // Check if it's a single letter A-Z
    if (key.length === 1 && key >= 'A' && key <= 'Z') {
        const guess = key;
        const elements = document.getElementsByName(guess);

        if (elements.length > 0 && !revealedLetters.has(guess)) {
            // Correct guess - letter is in the puzzle and not yet revealed
            elements.forEach(function(each) {
                each.innerHTML = guess;
                each.classList.remove('pop');
                void each.offsetWidth; // Trigger reflow to restart animation
                each.classList.add('pop');

                // Create coin that pops out
                const coin = document.createElement('div');
                coin.className = 'coin';
                each.appendChild(coin);

                // Remove coin after animation completes
                setTimeout(function() {
                    coin.remove();
                }, 500);
            });
            revealedLetters.add(guess);
            checkVictory();
        } else if (elements.length === 0) {
            // Wrong guess - letter is not in the puzzle
            const gameDiv = document.getElementById("game");
            gameDiv.classList.remove("shake");
            // Trigger reflow to restart animation
            void gameDiv.offsetWidth;
            gameDiv.classList.add("shake");
        }
        // If already revealed, do nothing (no sound, no animation)
    }
}

</script>

</body>
</html>